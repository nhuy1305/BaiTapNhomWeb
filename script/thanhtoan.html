<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thanh toán - Rau Sạch Online</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link rel="stylesheet" href="./css/checkout.css">
</head>
<body>
    <div class="checkout-container">
        <div class="checkout-column info-column">
            <h2>Thông tin nhận hàng</h2>
            <div class="form-group">
                <label for="name">Số điện thoại</label>
                <input type="text" id="name" name="name">
            </div>
            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" id="email" name="email">
            </div>
            <div class="form-group">
                <label for="address">Địa chỉ</label>
                <input type="text" id="address" name="address">
            </div>
            <a href="dangnhap.html" class="login-link" id="loginLink">Đăng nhập để tự động điền</a>
        </div>

        <div class="checkout-column payment-column">
            <h2>Phương thức thanh toán</h2>
            <div class="payment-option">
                <input type="radio" id="cod" name="payment" value="cod" checked>
                <label for="cod">Thanh toán khi giao hàng (COD)</label>
            </div>
            <div class="payment-option qr" id="qrSection" style="display: none;">
                <p>Mã QR thanh toán:</p>
                <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=Order123" alt="QR Code" id="qrCode">
            </div>
            <button class="btn btn-primary" id="generateQR">Tạo mã QR</button>
        </div>

        <div class="checkout-column order-column">
            <h2>Đơn hàng (1 sản phẩm)</h2>
            <div class="order-item">
                <img src="https://via.placeholder.com/50" alt="Cải kale">
                <span>Cải kale (Xanh) Organic 300gr</span>
                <span>35.000đ</span>
            </div>
            <div class="form-group">
                <label for="discount">Nhập mã giảm giá</label>
                <input type="text" id="discount" name="discount">
            </div>
            <div class="order-summary">
                <p>Tạm tính: <span id="subtotal">35.000đ</span></p>
                <p>Phí vận chuyển: <span id="shipping">0đ</span></p>
                <p>Tổng cộng: <span id="total">35.000đ</span></p>
            </div>
            <button class="btn btn-primary" id="placeOrder">Đặt hàng</button>
        </div>
    </div>

    <script>
        // Kiểm tra trạng thái đăng nhập
        const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
        const loginLink = document.getElementById('loginLink');
        if (!isLoggedIn) {
            window.location.href = 'dangnhap.html';
        }

        // Tạo mã QR
        document.getElementById('generateQR').addEventListener('click', function() {
            const qrSection = document.getElementById('qrSection');
            qrSection.style.display = 'block';
        });

        // Đặt hàng
        document.getElementById('placeOrder').addEventListener('click', function() {
            alert('Đặt hàng thành công!');
            window.location.href = 'order-details.html';
        });
    </script>
</body>
</html>
