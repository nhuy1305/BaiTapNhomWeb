<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nh·∫≠n ngay voucher ∆∞u ƒë√£i</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link rel="stylesheet" href="./css/main.css">
    <link rel="stylesheet" href="./css/voucher.css"> 
</head>

<body>
    <div class="top-bar">
        <div class="top-bar-content">
            <div class="contact-info">
                <span><i class="fas fa-phone"></i> Hotline: 0393058500</span>
                <span><i class="fas fa-clock"></i> Gi·ªù l√†m vi·ªác: T2 - T7 t·ª´ 6h30 ƒë·∫øn 17h00</span>
            </div>
            <div class="auth-links">
                <a href="dangnhap.html"><i class="fas fa-user"></i>ƒêƒÉng nh·∫≠p</a>
                <a href="dangky.html"><i class="fas fa-user-plus"></i>ƒêƒÉng k√Ω</a>
            </div>
        </div>
    </div>

    <header>
        <div class="header-content">
            <div class="logo">
                <i class="fas fa-leaf"></i>
                Rau S·∫°ch Online
            </div>
            <div class="search-bar">
                <input type="text" placeholder="T√¨m ki·∫øm s·∫£n ph·∫©m..." />
                <button><i class="fas fa-search"></i></button>
            </div>
            <div class="cart-icon" id="cart-icon">
                <i class="fas fa-shopping-cart"></i>
                <span class="cart-count" id="cart-count">0</span>
            </div>
        </div>
    </header>

    <nav>
        <div class="nav-container">
            <ul class="nav-links">
                <li><a href="index.html">TRANG CH·ª¶</a></li>
                <li>
                    <a href="khuyenmai.html">KHUY·∫æN M√ÉI <i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown">
                        <li><a href="khuyenmai.html">T·∫•t c·∫£ khuy·∫øn m√£i</a></li>
                        <li><a href="khuyenmai.html">Combo ti·∫øt ki·ªám</a></li>
                        <li><a href="khuyenmai.html">S·∫£n ph·∫©m gi·∫£m gi√°</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">S·∫¢N PH·∫®M <i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown">
                        <li><a href="#tatcasanpham">T·∫•t c·∫£ s·∫£n ph·∫©m</a></li>
                        <li><a href="sanphamnoibat.html">S·∫£n ph·∫©m n·ªïi b·∫≠t</a></li>
                        <li><a href="sanphammoi.html">S·∫£n ph·∫©m m·ªõi</a></li>
                    </ul>
                </li>
                <li><a href="gioithieu.html">GI·ªöI THI·ªÜU</a></li>
                <li><a href="tintuc.html">TIN T·ª®C</a></li>
                <li><a href="lienhe.html">LI√äN H·ªÜ</a></li>
                <li>
                    <a href="#">V·ªÄ CH√öNG T√îI <i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown">
                        <li><a href="tamnhinvasumenh.html">T·∫ßm nh√¨n v√† s·ª© m·ªánh</a></li>
                        <li><a href="lichsuhinhthanh.html">L·ªãch s·ª≠ h√¨nh th√†nh</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <div class="sidebar">
            <h3>DANH M·ª§C</h3>
            <ul class="category-list">
                <li><a href="rautuoi.html">Rau t∆∞∆°i s·∫°ch m·ªói ng√†y</a></li>
                <li><a href="cu.html">C√°c lo·∫°i c·ªß t∆∞∆°i ngon ‚Äì gi√° t·ªët</a></li>
                <li><a href="giavi.html">Rau gia v·ªã </a></li>
                <li><a href="rauvuon.html">Rau v∆∞·ªùn ‚Äì t∆∞∆°i ngon t·ª± nhi√™n</a></li>
                <li><a href="rausach.html">Rau s·∫°ch an to√†n ‚Äì gi√° h·ª£p l√Ω</a></li>
                <li><a href="hoaquavuon.html">Hoa qu·∫£ v∆∞·ªùn ‚Äì ng·ªçt l√†nh t∆∞∆°i</a></li>
                <li><a href="hoaquathuong.html">Hoa qu·∫£ th∆∞·ªùng ‚Äì si√™u ti·∫øt ki·ªám</a></li>
                <li><a href="sanphamgiamgia.html">S·∫£n ph·∫©m gi·∫£m gi√° c·ª±c hot</a></li>
                <li><a href="voucher.html">Nh·∫≠n ngay voucher ∆∞u ƒë√£i</a></li>
                <li><a href="lienhechungtoi.html">Li√™n h·ªá v·ªõi ch√∫ng t√¥i</a></li>
            </ul>
        </div>
        <div class="voucher-container">
            <div class="breadcrumb">
                <a href="index.html">TRANG CH·ª¶</a> > <span>VOUCHER ∆ØU ƒê√ÉI</span>
            </div>
            <h1 class="page-title">üéÅ VOUCHER ∆ØU ƒê√ÉI ƒê·∫∂C BI·ªÜT</h1>
            <div class="voucher-list">
                <div class="voucher-card" id="voucher-KHMOI">
                    <h2>üíö KHMOI - Gi·∫£m 30% cho kh√°ch h√†ng m·ªõi</h2>
                    <p>√Åp d·ª•ng cho kh√°ch h√†ng **ch∆∞a c√≥ ƒë∆°n h√†ng n√†o**.</p>
                    <p>Kh√¥ng gi·ªõi h·∫°n gi√° tr·ªã ƒë∆°n h√†ng.</p>
                    <p><strong>M√£ gi·∫£m gi√°:</strong> KHMOI</p>
                </div>
                <div class="voucher-card" id="voucher-T5NUAGIA">
                    <h2>üõçÔ∏è T5NUAGIA - Th·ª© NƒÉm n·ª≠a gi√°!</h2>
                    <p>Gi·∫£m <strong>50%</strong> t·ªëi ƒëa <strong>150.000ƒë</strong> khi ƒë·∫∑t h√†ng v√†o **<strong>Th·ª© NƒÉm</strong> v·ªõi ƒë∆°n h√†ng t·ª´ <strong>100.000ƒë</strong> tr·ªü l√™n**.</p>
                    <p><strong>M√£ gi·∫£m gi√°:</strong> T5NUAGIA</p>
                </div>
                <div class="voucher-card" id="voucher-SHIP0D">
                    <h2>üöö SHIP0ƒê - Freeship m·ªçi n·∫ªo ƒë∆∞·ªùng</h2>
                    <p>√Åp d·ª•ng cho **ƒë∆°n th·ª© 2 trong c√πng ng√†y**.</p>
                    <p><strong>M√£ gi·∫£m gi√°:</strong> SHIP0ƒê</p>
                </div>
            </div>
            <div class="voucher-checker">
                <h2>üîç Ki·ªÉm tra kh·∫£ nƒÉng √°p d·ª•ng Voucher</h2>
                <input type="text" id="voucherInput" placeholder="Nh·∫≠p m√£ voucher..." />
                <button id="checkVoucher">Ki·ªÉm tra</button>
                <p id="voucherResult"></p>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>C√îNG TY RAU S·∫†CH ONLINE</h3>
                <div class="contact-info">
                    <p><i class="fas fa-map-marker-alt"></i> 154A H√† Huy Gi√°p, P.An Ph√∫ ƒê√¥ng, Q.12, TP. HCM</p>
                    <p><i class="fas fa-phone"></i> 0393058500</p>
                    <p><i class="fas fa-clock"></i> Th·ª© 2 - Ch·ªß nh·∫≠t: 6:00 - 17:00</p>
                    <p><i class="fas fa-envelope"></i> Nhuy5201314@gmail.com</p>
                </div>
                <div class="social-icons">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-youtube"></i></a>
                    <a href="#"><i class="fab fa-tiktok"></i></a>
                </div>
            </div>
            <div class="footer-section">
                <h3>DANH M·ª§C S·∫¢N PH·∫®M</h3>
                <ul>
                    <li><a href="rautuoi.html">Rau t∆∞∆°i s·∫°ch m·ªói ng√†y</a></li>
                    <li><a href="cu.html">C√°c lo·∫°i c·ªß t∆∞∆°i ngon ‚Äì gi√° t·ªët</a></li>
                    <li><a href="giavi.html">Rau gia v·ªã </a></li>
                    <li><a href="rauvuon.html">Rau v∆∞·ªùn ‚Äì t∆∞∆°i ngon t·ª± nhi√™n</a></li>
                    <li><a href="rausach.html">Rau s·∫°ch an to√†n ‚Äì gi√° h·ª£p l√Ω</a></li>
                    <li><a href="hoaquavuon.html">Hoa qu·∫£ v∆∞·ªùn ‚Äì ng·ªçt l√†nh t∆∞∆°i</a></li>
                    <li><a href="hoaquathuong.html">Hoa qu·∫£ th∆∞·ªùng ‚Äì si√™u ti·∫øt ki·ªám</a></li>
                    <li><a href="sanphamgiamgia.html">S·∫£n ph·∫©m gi·∫£m gi√° c·ª±c hot</a></li>
                    <li><a href="voucher.html">Nh·∫≠n ngay voucher ∆∞u ƒë√£i</a></li>
                    <li><a href="lienhechungtoi.html">Li√™n h·ªá v·ªõi ch√∫ng t√¥i</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>H·ªñ TR·ª¢ KH√ÅCH H√ÄNG</h3>
                <ul>
                    <li><a href="cauhoi.html">C√¢u h·ªèi th∆∞·ªùng g·∫∑p</a></li>
                    <li><a href="doitra.html">Ch√≠nh s√°ch ƒë·ªïi tr·∫£ h√†ng</a></li>
                    <li><a href="giaohang.html">Ch√≠nh s√°ch giao h√†ng</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>V·ªÄ RAU S·∫†CH ONLINE</h3>
                <ul>
                    <li><a href="gioithieu.html">Gi·ªõi thi·ªáu</a></li>
                    <li><a href="tamnhin.html">T·∫ßm nh√¨n v√† S·ª© m·ªánh</a></li>
                </ul>
            </div>
        </div>
        <div class="copyright">2025 Rau S·∫°ch Online</div>
    </footer>

    <div class="modal" id="cart-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Gi·ªè h√†ng c·ªßa b·∫°n</h2>
            <div id="cart-items"></div>
            <div class="cart-total">
                <span>T·ªïng c·ªông:</span>
                <span id="cart-total-price">0ƒë</span>
            </div>
            <div class="cart-actions">
                <button class="btn btn-secondary" id="continue-shopping">Ti·∫øp t·ª•c mua h√†ng</button>
                <button class="btn btn-primary" id="checkout">Thanh to√°n</button>
            </div>
        </div>
    </div>

    <script src="./script/main.js"></script>
    <script>
document.addEventListener('DOMContentLoaded', function() {
    const checkVoucherButton = document.getElementById('checkVoucher');
    if (!checkVoucherButton) {
        console.error('Kh√¥ng t√¨m th·∫•y n√∫t checkVoucher');
        return;
    }

    checkVoucherButton.addEventListener('click', function() {
        const code = document.getElementById('voucherInput').value.trim().toUpperCase();
        const result = document.getElementById('voucherResult');
        const orders = JSON.parse(localStorage.getItem('orders')) || [];
        const today = new Date();
        const day = today.getDay(); // 0=CN, 1=T2,...,4=T5,...
        const todayDate = today.toLocaleDateString("vi-VN");

        console.log('M√£ nh·∫≠p:', code);
        console.log('Ng√†y hi·ªán t·∫°i:', day);
        console.log('Danh s√°ch ƒë∆°n h√†ng:', orders);

        let cartTotal = 0;
        try {
            const cartItems = JSON.parse(localStorage.getItem('cart')) || [];
            console.log('Gi·ªè h√†ng:', cartItems);
            if (cartItems.length > 0) {
                cartTotal = cartItems.reduce((total, item) => {
                    if (item && typeof item.price === 'number' && typeof item.quantity === 'number') {
                        return total + (item.price * item.quantity);
                    }
                    return total;
                }, 0);
            } else {
                console.log('Gi·ªè h√†ng tr·ªëng');
            }
            console.log('T·ªïng gi√° tr·ªã gi·ªè h√†ng:', cartTotal);
        } catch (e) {
            console.error('L·ªói khi l·∫•y gi·ªè h√†ng:', e);
            result.textContent = "‚ùå L·ªói khi ki·ªÉm tra gi·ªè h√†ng. Vui l√≤ng th·ª≠ l·∫°i.";
            result.style.color = "red";
            return;
        }

        if (!code) {
            result.textContent = "‚ùå Vui l√≤ng nh·∫≠p m√£ voucher!";
            result.style.color = "red";
            return;
        }

        if (code === "KHMOI") {
            if (orders.length === 0) {
                result.textContent = "‚úÖ √Åp d·ª•ng th√†nh c√¥ng! Gi·∫£m 30% cho kh√°ch h√†ng m·ªõi.";
                result.style.color = "green";
            } else {
                result.textContent = "‚ùå Voucher n√†y ch·ªâ √°p d·ª•ng cho kh√°ch h√†ng m·ªõi.";
                result.style.color = "red";
            }
        } else if (code === "T5NUAGIA") {
            if (day === 4) {
                if (cartTotal >= 100000) {
                    result.textContent = "‚úÖ √Åp d·ª•ng th√†nh c√¥ng! Gi·∫£m 50% (t·ªëi ƒëa 150.000ƒë) cho ƒë∆°n t·ª´ 100.000ƒë.";
                    result.style.color = "green";
                } else {
                    result.textContent = "‚ùå ƒê∆°n h√†ng ph·∫£i t·ª´ 100.000ƒë ƒë·ªÉ √°p d·ª•ng voucher n√†y. T·ªïng hi·ªán t·∫°i: " + cartTotal.toLocaleString() + "ƒë";
                    result.style.color = "red";
                }
            } else {
                result.textContent = "‚ùå Voucher n√†y ch·ªâ √°p d·ª•ng v√†o Th·ª© NƒÉm.";
                result.style.color = "red";
            }
        } else if (code === "SHIP0ƒê") {
            const todayOrders = orders.filter(o => o.date === todayDate);
            if (todayOrders.length >= 1) {
                result.textContent = "‚úÖ √Åp d·ª•ng th√†nh c√¥ng! Freeship cho ƒë∆°n th·ª© 2 h√¥m nay.";
                result.style.color = "green";
            } else {
                result.textContent = "‚ùå Voucher ch·ªâ √°p d·ª•ng khi b·∫°n ƒë√£ c√≥ 1 ƒë∆°n trong h√¥m nay.";
                result.style.color = "red";
            }
        } else {
            result.textContent = "‚ùå M√£ voucher kh√¥ng t·ªìn t·∫°i.";
            result.style.color = "red";
        }
    });
});
    </script>
</body>

</html>
